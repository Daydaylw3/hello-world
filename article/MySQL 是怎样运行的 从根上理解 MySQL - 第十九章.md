[toc]

------

## 19.2 redo 日志是啥

我们只是想让已经提交了的事务对数据库中的数据所做的修改能永久生效，即使后来系统崩溃， 在重启后也能把这种修改恢复过来

把修改的内容记录一下，系统崩溃重启后，重做一次

redo 日志占用的空间很小

redo 日志是顺序写盘，使用了顺序 I/O

## 19.3 redo 日志格式

有多种类型的 redo 日志，但是都有通用结构

| type | space ID  | page number | data                   |
| ---- | --------- | ----------- | ---------------------- |
| 类型 | 表空间 ID | 页号        | 某条 redo 日志具体内容 |

### 19.3.1 简单的 redo 日志类型

row_id 的例子，隐藏列赋值方式

物理日志，写入数据的多少划分 redo 日志类型：MLOG_1BYTE、MLOG_2BYTE、MLOG_4BYTE、MLOG_8BYTE、MLOG_WRITE_STRING

### 19.3.2 复杂一些的 redo 日志类型

在执行一条语句时会修改非常多的页面

------

[toc]